@import '/sanitize.css';

:root {
    font-family: Roboto, Akkurat, DIN, Helvetica, Arial, sans-serif;
    // font-size: 16px;
    line-height: 1.45;
    text-size-adjust: 100%;

    box-sizing: border-box;
    * {
        box-sizing: inherit;
    }

    --nav-padding: 0rem;
    --body-padding: 1.5rem;
    --content-padding: 1rem;

    @media (max-width: 50rem) {
        --body-padding: 0.75rem;
        --content-padding: 0.75rem;
        // font-size: 17px;
    }
    @media (max-width: 30em) {
        --nav-padding: 0.25rem;
        --body-padding: 0.5rem;
        --content-padding: 0.75rem;
        // font-size: 18px;
        line-height: 1.35;
    }
    @media (max-width: 23em) {
        --nav-padding: 0.5rem;
        --body-padding: 0rem;
        // font-size: 17px;
        line-height: 1.3;
    }
}

body {
    background-color: #f3f3f3;
    width: 100%;
    max-width: 60em;

    // Prevent Chrome for Android from boosting font sizes
    // See https://stackoverflow.com/a/15137584/4485551
    max-height: 10000em;

    margin: 0 auto;
    padding: var(--body-padding);
    padding-bottom: calc(var(--body-padding) + 0.5em);
}

.site-content {
    margin: 1em var(--content-padding);
    // width: 100%;
}

@media print {
    .noprint,
    .site-header,
    .site-footer {
        display: none;
    }
    body {
        background: none;
    }
}

/* Sticky footer (see https://philipwalton.github.io/solved-by-flexbox/demos/sticky-footer/)
	Make sure the footer never lifts past the bottom of the page.
*/
@media screen {
    :root,
    body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
    }
    .site-header,
    .site-footer {
        flex: none;
    }
    .site-content {
        flex: 1 0 auto;
    }
}

// Code blocks
// @import 'prism-theme.scss';

//prettier-ignore
p, h1, h2, h3, h4, ul, ol, hr {
    margin: 0;
}

hr {
    border: none;
    border-top: 2px solid #ccd3db;
    margin: 1em 0;
}

ul,
ol {
    padding: 0;
    list-style: none;
}

::selection {
    background-color: hsl(210, 78%, 42%);
    color: white;
}

a {
    color: hsl(210, 78%, 42%);
}
a:visited {
    color: #5d39a0;
}
a:focus {
    background: hsl(39, 100%, 64%);
    outline: 2px solid hsl(39, 100%, 64%);
    text-decoration: underline;
}
a:active {
    color: hsl(210, 78%, 42%);
}

// Reset sanitize.css's weird design choices regarding cursors
html,
[aria-busy='true'],
[aria-controls],
[aria-disabled],
[disabled] {
    cursor: auto;
}

.navbar {
    margin: var(--nav-padding);
    display: flex;
    align-items: flex-start;
    margin-bottom: 0;

    // Horizontal connector line
    position: relative;
    &::after {
        content: '';
        height: 0.4em;
        left: 0;
        right: 0;
        top: calc(1.015rem - 0.2em);
        z-index: -1;
        background: #ccd3db;
        position: absolute;
    }
}

.navbar > a {
    line-height: 1;
    white-space: nowrap;
    -webkit-tap-highlight-color: transparent;
    background-color: #ccd3db;
    &:not(:first-child) {
        margin-left: 0.5em;
    }

    display: flex;
    align-items: stretch;

    padding: 0.6rem 1.2em 0.43rem;
    text-decoration: none;

    &:visited {
        color: inherit;
    }
    &:hover {
        background-color: #bdc3ca;
    }

    &.active {
        background-color: hsl(210, 78%, 42%);
        color: white;
    }
    &.title {
        font-weight: bold;
        font-size: 1.25em;

        // Manually line up the baselines, while still stretching the full
        // height of the header (not possible with `align-items: baseline`)
        padding: 0.4rem 0.825em 0.375rem;
    }

    @media (max-width: 44em) {
        padding-right: 0.75em;
        padding-left: 0.75em;
    }
    @media (max-width: 38em) {
        padding: 0.5em;

        // Break title onto two lines
        &.title {
            flex: 0 0 5.25em;
            width: 5.25em;

            white-space: normal;
            padding: 0.3em 0.4em;
        }
    }

    svg {
        height: 1em;
        width: 1em;
        vertical-align: top;
        margin-right: 0.4em;
    }
}

.picture {
    float: right;
    margin: 0 0 1em 1em;
    display: block;
    max-width: 12em;
    @media (max-width: 32em) {
        max-width: 8em;
    }
}

.excerpt {
    @extend .typography;

    background-color: white;
    border: 1px solid #ccd3db;
    margin: var(--content-padding) calc(-1 * var(--content-padding));
    padding: var(--content-padding);

    //Child element has partial margin-bottom (because of the margin on the floated image)
    padding-bottom: calc(var(--content-padding) - 0.5em);

    &__thumb {
        margin: 0.25em 0 0.5em 0.75em;
        float: right;
        width: 10em;
        height: 10em;
        object-fit: cover;
        max-width: 100%;
        border: 1px solid #ccc;

        @media (max-width: 20em) {
            float: none;
            margin-left: 0;
        }
    }
}

.dateline {
    font-size: 0.85em;
    color: #555;
    line-height: 1;
    letter-spacing: 0.03em;

    time {
        text-transform: uppercase;
    }
}

// A placeholder selector that other rules can extend.
// Contains basic typography rules for text.
// All rules apply only to direct children.
.typography {
    & > * {
        margin-top: 0.6em;
    }
    & > *:first-child {
        margin: 0;
    }

    //prettier-ignore
    & > h1, & > h2, & > h3, & > h4 {
        line-height: 1.25; // tighten up multi-line headings
    }

    // A heading after a paragraph indicates the beginning of new logical section
    p + h1,
    p + h2,
    p + h3,
    p + h4 {
        margin-top: 1em;
    }

    & > figure {
        margin: 1em 0;
        background: white; // for images with transparent bits

        figcaption {
            background: white; // on the grey body background
            padding: 0.325em 0.5em;
            font-size: 0.9em;
        }
    }

    & > hr {
        border: none;
        border-top: 2px solid #ccd3db; // just a grey line
    }

    & > ul {
        list-style-type: disc;
    }
    & > ul ul {
        list-style-type: square;
    }
    & > ol {
        list-style-type: decimal;
    }
    & > ol ol {
        list-style-type: lower-latin;
    }
    & > ul,
    & > ol {
        padding-left: 2.25em;
        ul,
        ol {
            padding-left: 1.2em;
        }
    }

    & > details > summary {
        cursor: pointer;
        border-radius: 0.2em;
        margin-left: -0.4em;
        padding: 0.1em 0.4em;
    }
}
